<!DOCTYPE html>
<html>
  <body>
    <button onclick="a()">Start Process</button>
    <script>
      try {
        window.onbeforeunload = function () { 
          return false; 
        };

        alert("DIRECTIONS: Click somewhere on the page first (excluding the button). Click Start Process. Then, a prompt will soon show up asking what page you want to open. Type the URL of the page, including https://. Next, a prompt will show up asking you if you want to leave the page. Click 'No'. It might show up again, but click 'Prevent this page from making additional dialogues', and then click 'Cancel'. You can now visit the page unblocked!");

        function a() {
          // Clear the content of the page except the button.
          document.body.innerHTML = "<button onclick='a()'>Start Process</button>";

          // Set up the iframe creation in a delayed manner using setTimeout
          setTimeout(function () {
            var iframe = document.createElement("iframe");
            // Styling for iframe
            iframe.style.width = "100%";
            iframe.style.height = "100vh"; // Use 100vh for full viewport height
            iframe.style.border = "none";
            iframe.style.margin = "0";
            iframe.style.padding = "0";
            iframe.style.display = "block";
            iframe.style.overflowX = "hidden";

            // Prompt to ask the user for a URL
            var url = prompt("What URL do you want to unblock?");
            if (url) {
              iframe.src = url; // Set the iframe source to the user's URL input
              document.body.appendChild(iframe); // Append the iframe to the body
            }
          }, 5000); // Delay iframe creation for 5 seconds
        }
      } catch (e) {
        alert(e); // Catch and alert any errors
      }
    </script>
  </body>
</html>
